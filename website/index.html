<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>CS 184: ClothSim</title>
<script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
<link href="//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.css" type="text/css" rel="stylesheet" />
<link href="//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.gallery.min.css" type="text/css" rel="stylesheet" />
<style>
    body {
        padding: 100px;
        width: 1000px;
        margin: auto;
        text-align: left;
        font-weight: 300;
        font-family: 'Open Sans', sans-serif;
        color: #121212;
        line-height: 1.5;
    }
    div.padded {
        padding-top: 0px;
        padding-right: 100px;
        padding-bottom: 0.25in;
        padding-left: 100px;
    }
</style>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" media="screen" />
</head>

<body>

<h1 align="middle">CS 184: Computer Graphics and Imaging, Spring 2021</h1>
<h1 align="middle">Project 4: Cloth Simulator</h1>
<h2 align="middle">Lindsey Guan & Simon Yei</h2>

<h2 align="middle">Overview</h2>
<p>Give a high-level overview of what you implemented in this project. Think about what you've built as a whole. Share your thoughts on what interesting things you've learned from completing the project.</p>
<h2 align="middle">Part I: Masses and springs</h2>

<div align="center">
    <p align="middle">Click to enlarge images.</p>
    <table style="width=100%">
        <th colspan="2" align="middle">all constraints</th>
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part1_all_large.png"><img src="images/part1_all_large.png" width="400px"/></a>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part1_all.png"><img src="images/part1_all.png" width="400px"/></a>
            </td>
        </tr>
        <th colspan="2" align="middle">no shearing constraints</th>
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part1_no_shearing_large.png"><img src="images/part1_no_shearing_large.png" width="400px"/></a>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part1_no_shearing.png"><img src="images/part1_no_shearing.png" width="400px"/></a>
            </td>
        </tr>
        <th colspan="2" align="middle">only shearing constraints</th>
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part1_only_shearing_large.png"><img src="images/part1_only_shearing_large.png" width="400px"/></a>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part1_only_shearing.png"><img src="images/part1_only_shearing.png" width="400px"/></a>
            </td>
        </tr>
    </table>
</div>

<h2 align="middle">Part II: Simulation via numerical integration</h2>

<div align="center">
    <table style="width=100%">
        <tr>
            <td colspan="2" align="middle">
                <a class="gallery" href="images/part2_normal.png"><img src="images/part2_normal.png" width="400px"/></a>
                <figcaption align="middle">default settings</figcaption>
            </td>
        </tr>
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part2_not_dense.png"><img src="images/part2_not_dense.png" width="400px"/></a>
                <figcaption align="middle">low density</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part2_dense.png"><img src="images/part2_dense.png" width="400px"/></a>
                <figcaption align="middle">high density</figcaption>
            </td>
        </tr>
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part2_low_ks.png"><img src="images/part2_low_ks.png" width="400px"/></a>
                <figcaption align="middle">low spring constant</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part2_high_ks.png"><img src="images/part2_high_ks.png" width="400px"/></a>
                <figcaption align="middle">high spring constant</figcaption>
            </td>
        </tr>
        <tr>
        <td align="middle">
            <a class="gallery" href="images/part2_low_damping.png"><img src="images/part2_low_damping.png" width="400px"/></a>
            <figcaption align="middle">low damping</figcaption>
        </td>
        <td align="middle">
            <a class="gallery" href="images/part2_high_damping.png"><img src="images/part2_high_damping.png" width="400px"/></a>
            <figcaption align="middle">high damping</figcaption>
        </td>
        </tr>
    </table>
</div>

<h2 align="middle">Part III: Handling collisions with other objects</h2>

<div align="center">
    <table style="width=100%">
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part3_plane.png"><img src="images/part3_plane.png" width="400px"/></a>
                <figcaption align="middle">plane collision</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part3_sphere.png"><img src="images/part3_sphere.png" width="400px"/></a>
                <figcaption align="middle">sphere collision</figcaption>
            </td>
        </tr>
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part3_sphere_low_ks.png"><img src="images/part3_sphere_low_ks.png" width="400px"/></a>
                <figcaption align="middle">low spring constant</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part3_sphere_high_ks.png"><img src="images/part3_sphere_high_ks.png" width="400px"/></a>
                <figcaption align="middle">high spring constant</figcaption>
            </td>
        </tr>
    </table>
</div>

<h2 align="middle">Part IV: Handling self-collisions</h2>
<div align="center">
    <table style="width=100%">
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part4_default1.png"><img src="images/part4_default1.png" width="300px"/></a>
                <figcaption align="middle">default settings, initial collision</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part4_default2.png"><img src="images/part4_default2.png" width="300px"/></a>
                <figcaption align="middle">default settings, mid-collision</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part4_default3.png"><img src="images/part4_default3.png" width="300px"/></a>
                <figcaption align="middle">default settings, resting state</figcaption>
            </td>
        </tr>
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part4_low_density1.png"><img src="images/part4_low_density1.png" width="300px"/></a>
                <figcaption align="middle">low density, initial collision</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part4_low_density2.png"><img src="images/part4_low_density2.png" width="300px"/></a>
                <figcaption align="middle">low density, mid-collision</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part4_low_density3.png"><img src="images/part4_low_density3.png" width="300px"/></a>
                <figcaption align="middle">low density, resting state</figcaption>
            </td>
        </tr>
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part4_high_density1.png"><img src="images/part4_high_density1.png" width="300px"/></a>
                <figcaption align="middle">high density, initial collision</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part4_high_density2.png"><img src="images/part4_high_density2.png" width="300px"/></a>
                <figcaption align="middle">high density, mid-collision</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part4_high_density3.png"><img src="images/part4_high_density3.png" width="300px"/></a>
                <figcaption align="middle">high density, resting state</figcaption>
            </td>
        </tr>
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part4_low_ks1.png"><img src="images/part4_low_ks1.png" width="300px"/></a>
                <figcaption align="middle">low spring constant, initial collision</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part4_low_ks2.png"><img src="images/part4_low_ks2.png" width="300px"/></a>
                <figcaption align="middle">low spring constant, mid-collision</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part4_low_ks3.png"><img src="images/part4_low_ks3.png" width="300px"/></a>
                <figcaption align="middle">low spring constant, resting state</figcaption>
            </td>
        </tr>
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part4_high_ks1.png"><img src="images/part4_high_ks1.png" width="300px"/></a>
                <figcaption align="middle">high spring constant, initial collision</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part4_high_ks2.png"><img src="images/part4_high_ks2.png" width="300px"/></a>
                <figcaption align="middle">high spring constant, mid-collision</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part4_high_ks3.png"><img src="images/part4_high_ks3.png" width="300px"/></a>
                <figcaption align="middle">high spring constant, resting state</figcaption>
            </td>
        </tr>
    </table>
</div>

<h2 align="middle">Part V: Shaders</h2>
<div align="center">
    <p>Having finally worked out the physics and collisions of our cloth, the only order of business left was to make it fabulous.</p>
    <p>
        This we accomplished through several OpenGL shaders, which were like little snapshots of project 3, but with more convenient built-ins.
        Each shader program consists of two files:
    </p>
    <ul>
        <li>one vertex shader that performs geometric transformations on vertices and outputs their parameters transformed to model space</li>
        <li>one fragment shader that takes the output from the vertex shader and uses it to interpolate color values across small areas</li>
    </ul>
    <p>This flexible, two-piece structure enables a wide variety of rendering techniques, of which we showcase a few.</p>
    <br />

    <p>For starters, one can easily implement Blinn-Phong shading, which by now everyone knows is just ambient light + diffuse light + specular light:</p>
    <table align="middle" style="width=100%">
        <tr>
            <td align="center">
                <a class="gallery" href="images/part5_bp_amb.png"><img src="images/part5_bp_amb.png" width="240px" /></a>
                <figcaption align="middle">ambient</figcaption>
            </td>
            <td align="center"> + </td>
            <td align="center">
                <a class="gallery" href="images/part5_bp_diff.png"><img src="images/part5_bp_diff.png" width="240px" /></a>
                <figcaption align="middle">diffuse</figcaption>
            </td>
            <td align="center"> + </td>
            <td align="center">
                <a class="gallery" href="images/part5_bp_spec.png"><img src="images/part5_bp_spec.png" width="240px" /></a>
                <figcaption align="middle">specular</figcaption>
            </td>
            <td align="center"> = </td>
            <td align="center">
                <a class="gallery" href="images/part5_bp_all.png"><img src="images/part5_bp_all.png" width="240px" /></a>
                <figcaption align="middle">Blinn-Phong</figcaption>
            </td>
        </tr>
    </table>
    <br />

    <p>Alternatively, one can sample color vectors directly from a texture, mapping said texture to the surface of the cloth (and sphere).</p>
    <p>I had a flash of inspiration and captured something beautiful:</p>
    <table style="width=100%">
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part5_tex_pepe0.png"><img src="images/part5_tex_pepe0.png" width="300px" /></a>
                <figcaption align="middle">:(</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part5_tex_pepe1.png"><img src="images/part5_tex_pepe1.png" width="300px" /></a>
                <figcaption align="middle">:(</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part5_tex_pepe2.png"><img src="images/part5_tex_pepe2.png" width="300px" /></a>
                <figcaption align="middle">:)</figcaption>
            </td>
        </tr>
    </table>
    <br />

    <p>"But wait," you say, "this cloth is smooth and featureless! I demand a more interestingly contoured surface!"</p>
    <p>Never fear, my friend. More interesting contours you shall receive, for we may edit surface normals through our fragment shader and even vertex positions through our vertex shader to achieve bump and displacement mapping:</p>
    <table style="width=100%">
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part5_bump1.png"><img src="images/part5_bump1.png" width="300px" /></a>
                <figcaption align="middle">bump shader on sphere</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part5_bump2.png"><img src="images/part5_bump2.png" width="300px" /></a>
                <figcaption align="middle">bump shaded cloth on sphere</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part5_displacement.png"><img src="images/part5_displacement.png" width="300px" /></a>
                <figcaption align="middle">Displacement shading adds vertex displacement in addition to bumpy normals</figcaption>
            </td>
        </tr>
    </table>
    <p>And if even this is not enough to satisfy your need for contours, well, simply turn up the render resolution and watch the contours multiply!</p>
    <table style="width=100%">
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part5_bump1_128.png"><img src="images/part5_bump1_128.png" width="300px" /></a>
                <figcaption align="middle">128 x 128</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part5_bump2_128.png"><img src="images/part5_bump2_128.png" width="300px" /></a>
                <figcaption align="middle">128 x 128</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part5_displacement_128.png"><img src="images/part5_displacement_128.png" width="300px" /></a>
                <figcaption align="middle">Admittedly, the difference is much more noticeable with displacement mapping</figcaption>
            </td>
        </tr>
    </table>
    <br />

    <p>Lastly, of course, the obligatory shiny mirror shader:</p>
    <table style="width=100%">
        <tr>
            <td align="middle">
                <a class="gallery" href="images/part5_mirror1.png"><img src="images/part5_mirror1.png" width="400px" /></a>
                <figcaption align="middle">Mirror shader on sphere</figcaption>
            </td>
            <td align="middle">
                <a class="gallery" href="images/part5_mirror2.png"><img src="images/part5_mirror2.png" width="400px" /></a>
                <figcaption align="middle">Shiny boi at resting state</figcaption>
            </td>
        </tr>
    </table>
</div>

<script src="//code.jquery.com/jquery-latest.js"></script>
<script src="//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>
<script src="//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.gallery.min.js" type="text/javascript" charset="utf-8"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/detect_swipe/2.1.1/jquery.detect_swipe.min.js"></script>
<script>
    $(document).ready(function() {
        $('.gallery').featherlightGallery();
    });

    $('a.gallery').featherlightGallery( {
        previousIcon: '&#9664;',     /* Code that is used as previous icon */
        nextIcon: '&#9654;',         /* Code that is used as next icon */
        galleryFadeIn: 100,          /* fadeIn speed when slide is loaded */
        galleryFadeOut: 300          /* fadeOut speed before slide is loaded */
    });
</script>
</body>
</html>
